{"version":3,"sources":["config.js","firebase.js","components/TodoItem.js","components/Authentication.js","components/Nav.js","components/InputTodo.js","components/App.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Config","firebase","initializeApp","db","firestore","auth","getTimeInHrMin","today","Date","hr","getHours","min","getMinutes","TodoItem","props","User","useContext","user","useState","todoObject","content","todo","setTodo","done","setDone","editing","setEditing","updateTodo","collection","uid","doc","id","update","then","catch","error","console","useEffect","className","data-key","action","onSubmit","e","preventDefault","type","value","onChange","target","style","checked","onClick","delete","time","provider","GoogleAuthProvider","signIn","signInWithPopup","result","log","signOut","Nav","username","src","userPhoto","alt","InputTodo","input","inputCtx","setInput","setInputCtx","placeholder","newTodo","now","toString","set","createContext","listOfTodos","setListOfTodos","userSetter","App","todoList","setTodoList","setUser","onSnapshot","ss","docs","map","item","data","sort","a","b","onAuthStateChanged","displayName","split","photoURL","Provider","elem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3aa4585c.chunk.js","sourcesContent":["let firebaseConfig = {\r\n    apiKey: \"AIzaSyAnipA5-nB3ir-xjYC_6z0z3bI6S6ch074\",\r\n    authDomain: \"todo-app-21b75.firebaseapp.com\",\r\n    databaseURL: \"https://todo-app-21b75-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n    projectId: \"todo-app-21b75\",\r\n    storageBucket: \"todo-app-21b75.appspot.com\",\r\n    messagingSenderId: \"1000443677882\",\r\n    appId: \"1:1000443677882:web:ba28a8c31086ed71370683\"\r\n  };\r\n\r\nexport default firebaseConfig;","import firebase from \"firebase/app\";\r\nimport firestore from \"firebase\";\r\nimport firebaseConfig from \"./config\";\r\n\r\n// Your web app's Firebase configuration\r\nlet Config = {\r\n    apiKey: firebaseConfig.apiKey,\r\n    authDomain: firebaseConfig.authDomain,\r\n    databaseURL: firebaseConfig.databaseURL,\r\n    projectId: firebaseConfig.projectId,\r\n    storageBucket: firebaseConfig.storageBucket,\r\n    messagingSenderId: firebaseConfig.messagingSenderId,\r\n    appId: firebaseConfig.appId,\r\n  };\r\n\r\n\r\n  \r\nfirebase.initializeApp(Config);\r\n\r\nconst db = firebase.firestore();\r\nconst auth = firebase.auth();\r\nexport default firebase; \r\nexport {db, auth, firestore };","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./componentStyle.css\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport {db} from \"../firebase\";\r\nimport { user } from \"./App\";\r\n\r\n\r\nfunction getTimeInHrMin() {\r\n    let today = new Date();\r\n    let hr = today.getHours();\r\n    let min = today.getMinutes();\r\n    let time = (hr > 9? hr : \"0\"+hr) + \":\" + (min > 9? min : \"0\"+min) + (hr > 11 ? \" pm\":\" am\");\r\n    return(time);\r\n}\r\n\r\nfunction TodoItem(props) {\r\n    const User = useContext(user);\r\n\r\n    const [todo, setTodo] = useState(props.todoObject.content);\r\n    const [done, setDone] = useState(props.todoObject.done);\r\n    const [editing, setEditing] = useState(false);\r\n\r\n    function deleteTodo() {\r\n        db.collection(User.uid).doc(props.todoObject.id).delete()\r\n        .then()\r\n        .catch((error) => {\r\n            console.error(\"Error removing document: \", error);\r\n        });\r\n    }\r\n\r\n    function updateTodo() {\r\n        setEditing(false);\r\n        db.collection(User.uid).doc(props.todoObject.id).update({\r\n            \"content\": todo,\r\n            \"time\": getTimeInHrMin(),\r\n            \"done\": done,\r\n        })\r\n        .then()\r\n        .catch((error) => {\r\n            console.error(\"Error removing document: \", error);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateTodo();\r\n    }, [done])\r\n\r\n    return(\r\n        <div className=\"todo-item\" data-key={props.todoObject.id}>\r\n            <div>\r\n                \r\n                {editing ? \r\n                 <div className=\"edit-todo\">\r\n                    <form action=\"\" onSubmit={(e)=>{e.preventDefault(); updateTodo()}}>\r\n                        <input type=\"text\"  value={todo} onChange={(e)=>setTodo(e.target.value)}/>\r\n                        <button>Update</button>\r\n                    </form>\r\n                </div>\r\n                 :\r\n                 <span style={done ? {\"textDecoration\":\"line-through\", \"opacity\":\"0.6\"} : {}}>{todo}</span>\r\n                 }\r\n                \r\n                {!editing && <input type=\"checkbox\" className=\"btns\" checked={done} onChange={()=>{done ? setDone(false):setDone(true);}}/>}\r\n                {!editing && <EditIcon className=\"btns\" onClick={()=> setEditing(true)}></EditIcon>}\r\n                <DeleteIcon className=\"btns\" onClick={deleteTodo}/>\r\n            </div>\r\n            <div>\r\n                <span>{props.todoObject.time}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default TodoItem;","import { auth } from \"../firebase\"\r\nimport firebase from \"firebase/app\";\r\nvar provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n\r\nfunction signIn() {\r\n    // auth.signInWithRedirect(provider);\r\n    auth.signInWithPopup(provider)\r\n    .then((result) => {\r\n\r\n    }).catch((error) => {\r\n        console.log(error);\r\n    });\r\n}\r\n\r\nfunction signOut() {\r\n    auth.signOut();\r\n}\r\n\r\n\r\n\r\nexport { signIn, signOut };","import React, { useContext } from \"react\";\r\nimport { signIn, signOut } from \"./Authentication\";\r\nimport { user } from \"./App\";\r\n\r\n\r\nfunction Nav() {\r\n    const User = useContext(user);\r\n\r\n    return(\r\n        <div className=\"nav\">\r\n            {User ? \r\n            <span className=\"user\">\r\n            <h2>{User.username}</h2>\r\n            <img src={User.userPhoto} alt=\"\" onClick={signOut}/>\r\n            </span>\r\n            :\r\n            <button onClick={signIn}>Sign In</button>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Nav;","import React, { useContext } from \"react\";\r\nimport { setInputCtx, user, inputCtx } from \"./App\";\r\nimport { db } from \"../firebase\";\r\n\r\n\r\nfunction getTimeInHrMin() {\r\n    let today = new Date();\r\n    let hr = today.getHours();\r\n    let min = today.getMinutes();\r\n    let time = (hr > 9? hr : \"0\"+hr) + \":\" + (min > 9? min : \"0\"+min) + (hr > 11 ? \" pm\":\" am\");\r\n    return(time);\r\n}\r\n\r\nfunction InputTodo() {\r\n\r\n    const input = useContext(inputCtx);\r\n    const setInput = useContext(setInputCtx);\r\n    const User = useContext(user);\r\n\r\n    function addToDo() {\r\n        if(input === \"\")return;\r\n        let newTodo = {\"id\": Date.now().toString(), \"content\":input, \"done\":false , \"time\":getTimeInHrMin()};\r\n\r\n        db.collection(User.uid).doc(newTodo[\"id\"]).set(newTodo)\r\n        .then()\r\n        .catch((e)=>{\r\n          console.log(\"Error occured \"+ e);\r\n        });\r\n    \r\n        setInput(\"\");\r\n      }\r\n\r\n    return(\r\n        <div className=\"input-todo\">\r\n            <form action=\"\" onSubmit={(e)=>{e.preventDefault()}}>\r\n              <input type=\"text\" placeholder=\"Add todo here\" value={input} \r\n                onChange={(e)=> setInput(e.target.value)}/>\r\n                \r\n                <button onClick={addToDo}>ADD</button>\r\n            </form>\r\n          </div>\r\n    );\r\n}\r\n\r\n\r\nexport default InputTodo;","import React, { createContext, useEffect, useState } from \"react\";\nimport TodoItem from \"./TodoItem\";\nimport Nav from \"./Nav\";\nimport InputTodo from \"./InputTodo\";\nimport \"./componentStyle.css\";\nimport {auth, db} from \"../firebase\";\n// import firebase from \"firebase/app\";\n\nconst inputCtx = createContext();\nconst setInputCtx = createContext();\nconst listOfTodos = createContext();\nconst setListOfTodos = createContext();\nconst user = createContext();\nconst userSetter = createContext();\n\n\n\nfunction App() {\n\n  const [input, setInput] = useState(\"\");\n  const [todoList, setTodoList] = useState([]);\n  const [User, setUser] = useState(null);\n  \n\n  useEffect(()=>{\n    if (User){\n      db.collection(User.uid)\n      .onSnapshot((ss)=>{\n      setTodoList(ss.docs.map((item)=>item.data()).sort((a, b)=> (b[\"id\"]-a[\"id\"])));\n    })}else{\n      setTodoList([]);\n    }\n  },[User]);\n\n  useEffect(() => {\n\n    auth.onAuthStateChanged(user=>{\n      if(user){\n        let username = user.displayName.split(\" \")[0];\n        let userPhoto = user.photoURL;\n        setUser({\"username\":username, \"userPhoto\":userPhoto, \"uid\":user.uid});\n      }else{\n        console.log(\"signed Out\");\n        setUser(null);\n      }\n      })\n  }, [])\n    \n  return(\n    <inputCtx.Provider value={input}>\n    <setInputCtx.Provider value={setInput}>\n    <user.Provider value={User}>\n    <userSetter.Provider value={setUser}>\n    <listOfTodos.Provider value={todoList}>\n    <setListOfTodos.Provider value={setTodoList}>\n        <div className=\"app\">\n          <Nav/>\n          <InputTodo />\n          <div className=\"show-todo\">\n            {todoList.map((elem)=>{\n                return(<TodoItem key={elem.id} todoObject={elem}/>)\n              })}\n          </div>\n        </div>\n    </setListOfTodos.Provider>\n    </listOfTodos.Provider>\n    </userSetter.Provider>\n    </user.Provider>\n    </setInputCtx.Provider>\n    </inputCtx.Provider>\n  );\n}\n\n\n\nexport default App;\nexport { inputCtx, setInputCtx, listOfTodos, setListOfTodos, userSetter, user };","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// import { Provider } from \"react-redux\";\nimport App from \"./components/App\";\n// import store from \"./store\";\n\nReactDOM.render(\n    <App />\n    , document.getElementById(\"root\"));\n"],"sourceRoot":""}