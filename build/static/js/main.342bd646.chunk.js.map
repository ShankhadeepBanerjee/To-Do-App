{"version":3,"sources":["config.js","firebase.js","components/TodoItem.js","components/Authentication.js","components/Nav.js","components/InputTodo.js","components/App.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Config","firebase","initializeApp","db","firestore","auth","storage","getTimeInHrMin","today","Date","hr","getHours","min","getMinutes","TodoItem","props","User","useContext","user","useState","todoObject","content","todo","setTodo","done","setDone","editing","setEditing","modalOpen","setModalOpen","handleModal","n","updateTodo","collection","uid","doc","id","update","time","then","catch","error","console","useEffect","className","data-key","image","src","alt","onClick","Modal","open","onClose","aria-labelledby","aria-describedby","action","onSubmit","e","preventDefault","type","value","onChange","target","style","textDecoration","opacity","checked","delete","ref","child","imageRef","res","log","provider","GoogleAuthProvider","signIn","signInWithPopup","result","Nav","setUser","userSetter","username","userPhoto","signOut","InputTodo","setTodoObject","addTodo","newTodo","set","now","toString","prev","todoFile","document","querySelector","files","name","metaData","contentType","imageFileRef","put","ss","getDownloadURL","url","getImageUrlAndAddTodo","placeholder","accept","URL","createObjectURL","click","listOfTodos","createContext","setListOfTodos","App","todoList","setTodoList","onSnapshot","docs","map","item","data","sort","a","b","onAuthStateChanged","displayName","split","photoURL","Provider","elem","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.342bd646.chunk.js","sourcesContent":["let firebaseConfig = {\r\n    apiKey: \"AIzaSyAnipA5-nB3ir-xjYC_6z0z3bI6S6ch074\",\r\n    authDomain: \"todo-app-21b75.firebaseapp.com\",\r\n    databaseURL: \"https://todo-app-21b75-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n    projectId: \"todo-app-21b75\",\r\n    storageBucket: \"todo-app-21b75.appspot.com\",\r\n    messagingSenderId: \"1000443677882\",\r\n    appId: \"1:1000443677882:web:ba28a8c31086ed71370683\"\r\n  };\r\n\r\nexport default firebaseConfig;","import firebase from \"firebase/app\";\r\nimport firestore from \"firebase\";\r\nimport firebaseConfig from \"./config\";\r\n\r\n// Your web app's Firebase configuration\r\nlet Config = {\r\n    apiKey: firebaseConfig.apiKey,\r\n    authDomain: firebaseConfig.authDomain,\r\n    databaseURL: firebaseConfig.databaseURL,\r\n    projectId: firebaseConfig.projectId,\r\n    storageBucket: firebaseConfig.storageBucket,\r\n    messagingSenderId: firebaseConfig.messagingSenderId,\r\n    appId: firebaseConfig.appId,\r\n  };\r\n\r\n\r\n  \r\nfirebase.initializeApp(Config);\r\n\r\nconst db = firebase.firestore();\r\nconst auth = firebase.auth();\r\nconst storage = firebase.storage();\r\nexport default firebase; \r\nexport {db, auth, storage, firestore };","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./componentStyle.css\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport { db, storage } from \"../firebase\";\r\nimport { user } from \"./App\";\r\n\r\nfunction getTimeInHrMin() {\r\n\tlet today = new Date();\r\n\tlet hr = today.getHours();\r\n\tlet min = today.getMinutes();\r\n\tlet time =\r\n\t\t(hr > 9 ? hr : \"0\" + hr) +\r\n\t\t\":\" +\r\n\t\t(min > 9 ? min : \"0\" + min) +\r\n\t\t(hr > 11 ? \" pm\" : \" am\");\r\n\treturn time;\r\n}\r\n\r\nfunction TodoItem(props) {\r\n\tconst User = useContext(user);\r\n\r\n\tconst [todo, setTodo] = useState(props.todoObject.content);\r\n\tconst [done, setDone] = useState(props.todoObject.done);\r\n\tconst [editing, setEditing] = useState(false);\r\n\r\n\tconst [modalOpen, setModalOpen] = useState(false);\r\n\r\n\tfunction handleModal(n) {\r\n\t\tn === 1 ? setModalOpen(true) : setModalOpen(false);\r\n\t}\r\n\r\n\tfunction deleteTodo() {\r\n\t\tdb.collection(User.uid)\r\n\t\t\t.doc(props.todoObject.id)\r\n\t\t\t.delete()\r\n\t\t\t.then()\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(\"Error removing document: \", error);\r\n\t\t\t});\r\n\r\n\t\tif (\"imageRef\" in props.todoObject) {\r\n\t\t\tstorage\r\n\t\t\t\t.ref()\r\n\t\t\t\t.child(props.todoObject.imageRef)\r\n\t\t\t\t.delete()\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconsole.log(\"Deleted Successfully\");\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log(\"Error occures\" + error);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateTodo() {\r\n\t\tsetEditing(false);\r\n\t\tdb.collection(User.uid)\r\n\t\t\t.doc(props.todoObject.id)\r\n\t\t\t.update({\r\n\t\t\t\tcontent: todo,\r\n\t\t\t\ttime: getTimeInHrMin(),\r\n\t\t\t\tdone: done,\r\n\t\t\t})\r\n\t\t\t.then()\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(\"Error removing document: \", error);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (User) {\r\n\t\t\tupdateTodo();\r\n\t\t}\r\n\t}, [done]);\r\n\r\n\treturn (\r\n\t\t<div className=\"todo-item\" data-key={props.todoObject.id}>\r\n\t\t\t<div>\r\n\t\t\t\t{\"image\" in props.todoObject && props.todoObject.image && (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={props.todoObject.image}\r\n\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thandleModal(1);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={modalOpen}\r\n\t\t\t\t\tonClose={() => {\r\n\t\t\t\t\t\thandleModal(0);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\taria-labelledby=\"simple-modal-title\"\r\n\t\t\t\t\taria-describedby=\"simple-modal-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"modal-img-div\">\r\n\t\t\t\t\t\t<img src={props.todoObject.image} alt=\"\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t{editing ? (\r\n\t\t\t\t\t<div className=\"edit-todo\">\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\taction=\"\"\r\n\t\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tupdateTodo();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={todo}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setTodo(e.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<button>Update</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\tdone\r\n\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\ttextDecoration: \"line-through\",\r\n\t\t\t\t\t\t\t\t\t\topacity: \"0.6\",\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t: {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{todo}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{!editing && (\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tclassName=\"icon\"\r\n\t\t\t\t\t\tchecked={done}\r\n\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\tdone ? setDone(false) : setDone(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t{!editing && (\r\n\t\t\t\t\t<EditIcon\r\n\t\t\t\t\t\tclassName=\"icon\"\r\n\t\t\t\t\t\tonClick={() => setEditing(true)}\r\n\t\t\t\t\t></EditIcon>\r\n\t\t\t\t)}\r\n\t\t\t\t<DeleteIcon className=\"icon\" onClick={deleteTodo} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<span>{props.todoObject.time}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default TodoItem;\r\n","import { auth } from \"../firebase\"\r\nimport firebase from \"firebase/app\";\r\nvar provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n\r\nfunction signIn() {\r\n    // auth.signInWithRedirect(provider);\r\n    auth.signInWithPopup(provider)\r\n    .then((result) => {\r\n\r\n    }).catch((error) => {\r\n        console.log(error);\r\n    });\r\n}\r\n\r\nfunction signOut() {\r\n    auth.signOut();\r\n}\r\n\r\n\r\n\r\nexport { signIn, signOut };","import React, { useContext } from \"react\";\r\nimport { signIn, signOut } from \"./Authentication\";\r\nimport { user, userSetter } from \"./App\";\r\nimport { auth } from \"../firebase\";\r\n\r\nfunction Nav() {\r\n\tconst User = useContext(user);\r\n\tconst setUser = useContext(userSetter);\r\n\r\n\treturn (\r\n\t\t<div className=\"nav\">\r\n\t\t\t{User ? (\r\n\t\t\t\t<span className=\"user\">\r\n\t\t\t\t\t<h2>{User.username}</h2>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={User.userPhoto}\r\n\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tauth.signOut();\r\n\t\t\t\t\t\t\tsetUser(null);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</span>\r\n\t\t\t) : (\r\n\t\t\t\t<button onClick={signIn}>Sign In</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Nav;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { user } from \"./App\";\r\nimport { db, storage } from \"../firebase\";\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nfunction getTimeInHrMin() {\r\n\tlet today = new Date();\r\n\tlet hr = today.getHours();\r\n\tlet min = today.getMinutes();\r\n\tlet time =\r\n\t\t(hr > 9 ? hr : \"0\" + hr) +\r\n\t\t\":\" +\r\n\t\t(min > 9 ? min : \"0\" + min) +\r\n\t\t(hr > 11 ? \" pm\" : \" am\");\r\n\treturn time;\r\n}\r\n\r\nfunction InputTodo() {\r\n\tconst [todoObject, setTodoObject] = useState({\r\n\t\tid: \"\",\r\n\t\tcontent: \"\",\r\n\t\tdone: null,\r\n\t\ttime: \"\",\r\n\t});\r\n\tconst User = useContext(user);\r\n\r\n\t// Gets Image Url if any then calls addTodo function\r\n\tfunction getImageUrlAndAddTodo() {\r\n\t\tif (todoObject.content === \"\") return;\r\n\r\n\t\tlet newTodo = {\r\n\t\t\tid: Date.now().toString(),\r\n\t\t\timage: null,\r\n\t\t\timageRef: \"\",\r\n\t\t\tcontent: todoObject.content,\r\n\t\t\tdone: false,\r\n\t\t\ttime: getTimeInHrMin(),\r\n\t\t};\r\n\t\tsetTodoObject((prev) => {\r\n\t\t\treturn { ...prev, content: \"\" };\r\n\t\t});\r\n\r\n\t\tlet todoFile = document.querySelector(\".file-choose\");\r\n\t\tif (todoFile.files[0]) {\r\n\t\t\tconst name = Date.now() + \" - \" + todoFile.files[0].name;\r\n\t\t\tconst metaData = { contentType: todoFile.files[0].type };\r\n\t\t\tconst ref = storage.ref();\r\n\t\t\tconst imageFileRef =\r\n\t\t\t\t\"Images/\" + User.username + User.uid + \"/\" + name;\r\n\t\t\tref.child(imageFileRef)\r\n\t\t\t\t.put(todoFile.files[0], metaData)\r\n\t\t\t\t.then((ss) => ss.ref.getDownloadURL())\r\n\t\t\t\t.then((url) => {\r\n\t\t\t\t\tnewTodo.image = url;\r\n\t\t\t\t\tnewTodo.imageRef = imageFileRef;\r\n\t\t\t\t\ttodoFile.value = \"\";\r\n\t\t\t\t\taddTodo(newTodo);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\taddTodo(newTodo);\r\n\t\t}\r\n\t\tlet inputImg = document.querySelector(\".input-img\");\r\n\t\tinputImg.src = \"\";\r\n\t}\r\n\r\n\t// Addes a new Todo object to database\r\n\tfunction addTodo(newTodo) {\r\n\t\tdb.collection(User.uid)\r\n\t\t\t.doc(newTodo[\"id\"])\r\n\t\t\t.set(newTodo)\r\n\t\t\t.then()\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tconsole.log(\"Error occured \" + e);\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"input-todo\">\r\n\t\t\t<form\r\n\t\t\t\taction=\"\"\r\n\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tgetImageUrlAndAddTodo();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<img src=\"\" alt=\"\" className=\"input-img\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Add Todo Here...\"\r\n\t\t\t\t\t\tvalue={todoObject.content}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tsetTodoObject((prev) => {\r\n\t\t\t\t\t\t\t\treturn { ...prev, content: e.target.value };\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\tclassName=\"file-choose hidden\"\r\n\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\tlet todoFile = document.querySelector(\r\n\t\t\t\t\t\t\t\t\".file-choose\"\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif (todoFile.files[0])\r\n\t\t\t\t\t\t\t\tdocument.querySelector(\r\n\t\t\t\t\t\t\t\t\t\".input-img\"\r\n\t\t\t\t\t\t\t\t).src = URL.createObjectURL(todoFile.files[0]);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<ImageIcon\r\n\t\t\t\t\t\tclassName=\"icon\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdocument.querySelector(\".file-choose\").click();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName=\"input-submit hidden\"\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<AddIcon\r\n\t\t\t\t\t\tclassName=\"icon\"\r\n\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\tdocument.querySelector(\".input-submit\").click()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default InputTodo;\r\n","import React, { createContext, useEffect, useState } from \"react\";\nimport TodoItem from \"./TodoItem\";\nimport Nav from \"./Nav\";\nimport InputTodo from \"./InputTodo\";\nimport \"./componentStyle.css\";\nimport { auth, db } from \"../firebase\";\n// import firebase from \"firebase/app\";\n\nconst inputCtx = createContext();\nconst setInputCtx = createContext();\nconst listOfTodos = createContext();\nconst setListOfTodos = createContext();\nconst user = createContext();\nconst userSetter = createContext();\n\nfunction App() {\n\tconst [todoList, setTodoList] = useState([]);\n\tconst [User, setUser] = useState(null);\n\n\tuseEffect(() => {\n\t\tif (User) {\n\t\t\tdb.collection(User.uid).onSnapshot((ss) => {\n\t\t\t\tsetTodoList(\n\t\t\t\t\tss.docs\n\t\t\t\t\t\t.map((item) => item.data())\n\t\t\t\t\t\t.sort((a, b) => b[\"id\"] - a[\"id\"])\n\t\t\t\t);\n\t\t\t});\n\t\t} else {\n\t\t\tsetTodoList([]);\n\t\t}\n\t}, [User]);\n\n\tuseEffect(() => {\n\t\tauth.onAuthStateChanged((user) => {\n\t\t\tif (user) {\n\t\t\t\tlet username = user.displayName.split(\" \")[0];\n\t\t\t\tlet userPhoto = user.photoURL;\n\t\t\t\tsetUser({\n\t\t\t\t\tusername: username,\n\t\t\t\t\tuserPhoto: userPhoto,\n\t\t\t\t\tuid: user.uid,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconsole.log(\"signed Out\");\n\t\t\t\tsetUser(null);\n\t\t\t}\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<user.Provider value={User}>\n\t\t\t<userSetter.Provider value={setUser}>\n\t\t\t\t<listOfTodos.Provider value={todoList}>\n\t\t\t\t\t<setListOfTodos.Provider value={setTodoList}>\n\t\t\t\t\t\t<div className=\"app\">\n\t\t\t\t\t\t\t<Nav />\n\t\t\t\t\t\t\t{User && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<InputTodo />\n\t\t\t\t\t\t\t\t\t<div className=\"show-todo\">\n\t\t\t\t\t\t\t\t\t\t{todoList.map((elem) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<TodoItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={elem.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttodoObject={elem}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</setListOfTodos.Provider>\n\t\t\t\t</listOfTodos.Provider>\n\t\t\t</userSetter.Provider>\n\t\t</user.Provider>\n\t);\n}\n\nexport default App;\nexport { inputCtx, setInputCtx, listOfTodos, setListOfTodos, userSetter, user };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n// import { Provider } from \"react-redux\";\nimport App from \"./components/App\";\n// import store from \"./store\";\n\nReactDOM.render(\n    <App />\n    , document.getElementById(\"root\"));\n"],"sourceRoot":""}